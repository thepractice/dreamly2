<% provide(:title, @user.username) %>

<div class="row">
	<div class ="col-md-3">
		<div id="profile-left-sidebar" data-spy="affix">
			<div class="dashboard white-panel">
				<div class="dashboard-avatar">
					<%= gravatar_for @user %>
				</div>
				<div class="dashboard-usernames">
					<div class="dashboard-usernames-name">
						<%= @user.name %>
					</div>
					<div class="dashboard-usernames-handle">
						@<%= @user.username %>
					</div>
				</div> 
				<div class="dashboard-stats">
					<div class="dashboard-stats-left">
						<span class="stat-header">DREAMS</span> <br />
						<span class="stat-number"><%= @user.dreams.count %></span>
					</div>
<!--
					<div class="dashboard-stats-right">
						<span class="stat-header">FOLLOWING</span> <br />
						<span class="stat-number">11</span>
					</div>
-->
				</div>

			</div>
			<% if @user.dreams.any? %>
				<div id="profile-graph" class="white-panel">
				</div>
				<%= render 'users/graph' %>
			<% end %>
			<div id="links-panel" class="white-panel">
				<%= link_to "Home", root_path %>
				<%= link_to "About", about_path %>
				<%= link_to "Contact", contact_path %>
				<%= image_tag("footer_stripe.jpg", width: '243', height: '10', class: 'rainbow-bar') %>
			</div>
		</div>
	</div>
	<div class="col-md-9">
		<% if @user.dreams.any? %>
			<div>
				<% if params[:query] %>
					<h3 class="content-title">Results for <strong><%= params[:query] %></strong></h3>
				<% else %>
					<h3 class="content-title">Dreams</h3>
				<% end %>
				<ul class="nav nav-pills nav-pills-inline" role="tablist">
					<% if params[:impression] == '2' %>
						<li><%= link_to "All", user_path(current_user.id, query: params[:query]) %></li>
						<li class="active"><%= link_to "Big", user_path(current_user.id, query: params[:query], impression: 2) %></li>
						<li><%= link_to "Huge", user_path(current_user.id, query: params[:query], impression: 3) %></li>
					<% elsif params[:impression] == '3' %>
						<li><%= link_to "All", user_path(current_user.id, query: params[:query]) %></li>
						<li><%= link_to "Big", user_path(current_user.id, query: params[:query], impression: 2) %></li>
						<li class="active"><%= link_to "Huge", user_path(current_user.id, query: params[:query], impression: 3) %></li>
					<% else %>
						<li class="active"><%= link_to "All", user_path(current_user.id, query: params[:query]) %></li>
						<li><%= link_to "Big", user_path(current_user.id, query: params[:query], impression: 2) %></li>
						<li><%= link_to "Huge", user_path(current_user.id, query: params[:query], impression: 3) %></li>
					<% end %>
				</ul>
			</div>
			<ol class="list-unstyled dreams" id ="user-dreams">
				<%= render @dreams %>
			</ol>
			<!-- renderer parameter is needed by will_paginate-boostrap gem -->
			<%= will_paginate @dreams, renderer: BootstrapPagination::Rails %>
		<% elsif current_user == @user %>
			<%= render 'dreams/firstnew' %>
		<% end %>
	</div>
</div>